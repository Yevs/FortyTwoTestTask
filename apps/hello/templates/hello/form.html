{% extends "base.html" %}
{% load staticfiles %}
{% block title %}Edit{% endblock title %}
{% block extra_head %}
    <link rel="stylesheet" href="{% static "css/hello/form.css" %}">
{% endblock extra_head %}
{% block content %}
    {% include "hello/header.html" %}
    <div class="jumbotron">
        <div class="row">
            <form action="/edit" method="post" class="form-horizontal" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="{{ form.first_name.id_for_label }}" class="col-sm-5 control-label">Name:</label>
                        <div class="col-sm-7 control-label">
                            {{ form.first_name }}
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="{{ form.last_name.id_for_label }}" class="col-sm-5 control-label">Last name:</label>
                        <div class="col-sm-7 control-label">
                            {{ form.last_name }}
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="{{ form.birth_date.id_for_label }}" class="col-sm-5 control-label">Date of Birth:</label>
                        <div class="col-sm-7 control-label">
                            {{ form.birth_date }}
                        </div>
                    </div>
                    <div class="image">
                        <div class="image-group">
                            <span class="btn btn-default btn-file">
                                Browse <input type="file">
                            </span>
                            <img src="{% static "img/default.png" %}" alt="Uploaded image">
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="{{ form.email.id_for_label }}" class="col-sm-3 control-label">Email:</label>
                        <div class="col-sm-9 control-label">
                            {{ form.email }}
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="{{ form.skype.id_for_label }}" class="col-sm-3 control-label">Skype:</label>
                        <div class="col-sm-9 control-label">
                            {{ form.skype }}
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="{{ form.jabber.id_for_label }}" class="col-sm-3 control-label">Jabber:</label>
                        <div class="col-sm-9 control-label">
                            {{ form.jabber }}
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-12">
                            <label for="{{ form.biography.id_for_label }}">Other contacts:</label>
                            {{ form.biography }}
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-12">
                            <label for="{{ form.other_contacts.id_for_label }}">Biography:</label>
                            {{ form.other_contacts }}
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <a class="btn btn-primary" id="submit">Submit</a>
                </div>
            </form>
        </div>
    </div>   
{% endblock content %}

{% block extra_scripts %}
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script>
        $(document).on('change', '.btn-file :file', function() {
            var input = $(this),
                numFiles = input.get(0).files ? input.get(0).files.length : 1,
                label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
            input.trigger('fileselect', [numFiles, label]);
        });

        $(document).ready( function() {
            $('.btn-file :file').on('fileselect', function(e, numFiles, label) {
                console.log(numFiles);
                console.log(label);
            });
        });
    </script>
{% endblock extra_scripts %}